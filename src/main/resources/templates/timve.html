<!DOCTYPE html>
<html xmlns:th="http://www.Thymeleaf.org">
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Bến Xe Miền Đông</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <th:block th:replace="layout :: link-css"></th:block>
</head>

<body>

    <section class="map" style="background-image: url(img/banner-bg.jpg);">
        <th:block th:replace="layout :: header"></th:block>
        <main class="table">
            <section class="table__header">
                <h1 style="margin-left: 30px; font-family: Comic Sans MScursive;">Vé dành cho bạn</h1>
                <div class="input-group">
                    <input type="search" placeholder="  Tìm theo...">
                    <img src="img/search.png" alt="">
                </div>

            </section>
            <section class="table__body">
                <table>
                    <thead>
                        <tr>
                            <th> Nhà xe <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Biển kiểm soát <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Ghế trống <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Xem </th>
                            <th> Đơn giá vé <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Điểm đi <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Điểm đến <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Giờ chạy <span class="icon-arrow">&UpArrow;</span></th>
                            <th> Đặt vé </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="cx, iterStat : ${chuyenxes}">
                            <td th:text="${cx.xe.chuXe.TenChuXe}"></td>
                            <td th:text="${cx.xe.BKS}"></td>
                            <td>
                                <a th:text="${cx.SoViTriConTrong}"></a>
                            </td>
                            <td>
                                <div class="model-apear">
                                    <button style="border-radius: none !important;" class="status shipped"
                                        th:id="'myBtn_' + ${iterStat.index}"
                                        th:attr="data-target='#myModal_' + ${iterStat.index}">
                                        Xem ghế trống
                                    </button>
                                    <div class="modal" th:id="'myModal_' + ${iterStat.index}">
                                        <!-- Modal content -->
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <span class="close">&times;</span>
                                                <h2>Ghế</h2>
                                            </div>
                                            <div class="modal-body">
                                                <div class="table_seats">
                                                    <div th:each="ghe : ${gheCuaChuyens}">
                                                            <div th:if="${ghe.chuyenXe.MaChuyenXe}==${cx.MaChuyenXe}">
                                                                <div th:switch="${ghe.TrangThai}">
                                                                    <p th:case="${false}" th:text="${ghe.ghe.MoTa}"></p>
                                                                    <p th:case="${true}" th:text="${ghe.ghe.MoTa}"></p>
                                                                </div>
                                                            </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    Khu 2
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td id="amount" th:text="${cx.giaVe.Gia}"></td>
                            <td th:text="${cx.tuyen.diemDi.DiaDiem}"></td>
                            <td th:text="${cx.tuyen.diemDen.DiaDiem}"></td>
                            <td th:text="${cx.tuyen.ThoiGianXuatBen}"></td>
                            <td>
                                <a th:href="@{/khachhang/datve/{id}(id=${cx.MaChuyenXe})}">Đặt vé</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </section>
    <section id="most-visited">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <br>
                    <div class="section-heading">
                        <h2>Các đối tác nhà xe</h2>
                    </div>
                </div>
                <div class="col-md-12">
                    <div id="owl-mostvisited" class="owl-carousel owl-theme">
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac01.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Phương Trang</h4>
                                    <span>SĐT: 1900.60.67</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac02.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Hồng Linh</h4>
                                    <span>SĐT: 0358.989.857</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac03.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Kim Anh</h4>
                                    <span>SĐT: 0932.404.301</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac04.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Kim Lý</h4>
                                    <span>SĐT: 0981.375.385</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac05.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Hoàng Long</h4>
                                    <span>SĐT: 02253.920.920</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac06.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Tây Nguyên</h4>
                                    <span>SĐT: 0982.878.889</span>
                                </div>
                            </div>
                        </div>
                        <div class="item col-md-12">
                            <div class="visited-item">
                                <img src="/img/doitac07.jpg" alt="" class="img-fluid">
                                <div class="text-content">
                                    <h4>Phượng Thu</h4>
                                    <span>SĐT: 0949.839.839</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="map">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div id="map">

                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d62693.68012682849!2d106.75180783253677!3d10.860579937660278!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3174d8ad820b6271%3A0x45060ac68fc6046!2zQuG6v24gWGUgTWnhu4FuIMSQw7RuZyBN4bubaQ!5e0!3m2!1svi!2s!4v1686013719636!5m2!1svi!2s"
                            width="100%" height="500" frameborder="0" style="border:0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <th:block th:replace="layout :: footer"></th:block>
    <th:block th:replace="layoutuser :: link-javascript"></th:block>
    <script src="/js/table.js"></script>
    <script src="/js/defineVND.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // navigation click actions 
            $('.scroll-link').on('click', function (event) {
                event.preventDefault();
                var sectionID = $(this).attr("data-id");
                scrollToID('#' + sectionID, 750);
            });

            // scroll to top action
            $('.scroll-top').on('click', function (event) {
                event.preventDefault();
                $('html, body').animate({ scrollTop: 0 }, 'slow');
            });

            // mobile nav toggle
            $('#nav-toggle').on('click', function (event) {
                event.preventDefault();
                $('#main-nav').toggleClass("open");
            });
            // Iterate through buttons and modals
            $('[id^=myBtn_]').on('click', function () {
                var modalId = $(this).attr('data-target');
                console.log(modalId);
                $(modalId).show();
            });

            $('[id^=myModal_] .close').on('click', function () {
                var modalId = '#' + $(this).closest('.modal').attr('id');
                $(modalId).hide();
            });
            // Iterate through modals and hide them when clicking outside
            // $('[id^=myModal_]').each(function () {
            //     var modalId = '#' + $(this).attr('id');
            //     $(document).on('click', function (event) {
            //         if (!$(event.target).closest(modalId).length && !$(event.target).is(modalId)) {
            //             $(modalId).hide();
            //         }
            //     });
            // });
        });

        
    </script>
</body>

</html>